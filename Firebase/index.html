<!DOCTYPE html>
<html>
<head>
	<title>
		

	</title>
	
	<!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">

	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">


</head>
<body>


	<div class = "container">


		<a class="waves-effect waves-light btn">Once</a>

		<div class = "display">
		<p>Once Data Display</p>
		</div>
		<input placeholder="Input Name" id="name" type="text" class="validate">
		<label for="name">Name</label>
		<input placeholder="Input Food" id="food" type="text" class="validate">
		<label for="name">Food</label>
		<br/>
		<br/>
		
		<a id = "enter_data" class="waves-effect waves-light btn">Submit</a>
		
		<br/>
		<br/>
		<div id = "live">
			<p>Live Update</p>
		</div>

	</div>

	<script src ="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>



	<!-- The core Firebase JS SDK is always required and must be listed first -->
	<script src="https://www.gstatic.com/firebasejs/8.1.1/firebase-app.js"></script>

	<!-- TODO: Add SDKs for Firebase products that you want to use
	 https://firebase.google.com/docs/web/setup#available-libraries -->
	<script src="https://www.gstatic.com/firebasejs/8.1.1/firebase-analytics.js"></script>

	<script src="https://www.gstatic.com/firebasejs/8.1.1/firebase-database.js"></script>

	<script>
		// Your web app's Firebase configuration
		// For Firebase JS SDK v7.20.0 and later, measurementId is optional
        var firebaseConfig = {
        apiKey: "AIzaSyCy6P6OQk5ZTxj2cVc2w0zPoLHArvA_XAU",
        authDomain: "introfirebase-dpcsb-p.firebaseapp.com",
        databaseURL: "https://introfirebase-dpcsb-p.firebaseio.com",
        projectId: "introfirebase-dpcsb-p",
        storageBucket: "introfirebase-dpcsb-p.appspot.com",
        messagingSenderId: "775909101948",
        appId: "1:775909101948:web:830d7731c47724d716d4f9",
        measurementId: "G-G2RGBV06SM"
         };

		// Initialize Firebase
		firebase.initializeApp(firebaseConfig);
		firebase.analytics();
		var database = firebase.database();
		//var auth = firebase.auth();

        function writeUserData(userId, Name, Food) {

            data = { 
                Name: Name,
                Food: Food,
            }

                database.ref('users/' + userId).set(data);
                
            }

            writeUserData("04", "Eli", "Pie");

            /* Arrow Function notation
            var dataChange = database.ref('users/');

            dataChange.on('value', (snapshot) =>{
                
                const data = snapshot.val();
                console.log(data)

            });     */

            var dataChange = database.ref('users/');

            dataChange.on('value', function(snapshot){
                
                const data = snapshot.val();
                console.log(data)

            });

		
	</script>
        
</body>
</html>